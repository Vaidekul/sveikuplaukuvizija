class Property{constructor(image,title,reference,link,beds,baths,garages,price){this.Image=image;this.Title=title;this.Reference=reference;this.Link=link;this.Beds=beds;this.Baths=baths;this.Garages=garages;this.Price=price}}function addFavourite(reference,title,image,link,beds,baths,garages,price){var newProprty=new Property(image,title,reference,link,beds,baths,garages,price);var favourites=[];if(localStorage.favourites){favourites=JSON.parse(localStorage.getItem('favourites'))}var unique=checkFavourites(reference);if(unique){favourites.push(newProprty);localStorage.setItem('favourites',JSON.stringify(favourites));updateFavourites()}else{removeFavourite(reference)}}function removeFavourite(reference){if(localStorage.favourites){var favourites=JSON.parse(localStorage.getItem('favourites'));var index=getFavouriteIndex(reference);favourites.splice(index,1);localStorage.setItem('favourites',JSON.stringify(favourites));updateFavourites()}}function updateFavourites(){var row='';if(localStorage.favourites){var favourites=JSON.parse(localStorage.getItem('favourites'));var total=favourites.length;for(var i=0;i<total;i++){row+='<tr><td><a href="'+favourites[i].Link+'"><img src="'+favourites[i].Image+'" /></a></td><td><span class="title">'+favourites[i].Title+'</span><br />';row+='<div class="icons"> <i class="demo-icon icon-bedroom"></i> <div class="number">'+favourites[i].Beds+'</div> <i class="demo-icon icon-bathrooms"></i> <div class="number">'+favourites[i].Baths+'</div> <i class="demo-icon icon-parking"></i> <div class="number">'+favourites[i].Garages+'</div></div><span class="price">'+favourites[i].Price+'</span><br><span class="ref">REF NO. '+favourites[i].Reference+'</span> <button type="button" class="btn pull-right" onclick="removeFavourite('+favourites[i].Reference+')">&times;</button></td></tr>'}if(total===0){row+='<tr><td class="text-center"><span>There are no items in you favourite list.</span></td></tr>'}}else{row+='<tr><td class="text-center"><span>There are no items in you favourite list.</span></td></tr>'}jQuery.each(jQuery(".custom-product-card"),function(i,p){if(!checkFavourites(jQuery(p).data("reference"))){jQuery(p).find('div.favourite img').attr('src','/wp-content/themes/webbiz/images/dist/heart_full.svg')}else{jQuery(p).find('div.favourite img').attr('src','/wp-content/themes/webbiz/images/dist/heart.svg')}});jQuery('#favTable').empty().append(row)}function getFavouriteIndex(reference){var index=null;if(localStorage.favourites){favourites=JSON.parse(localStorage.getItem('favourites'));var total=favourites.length;for(var i=0;i<total;i++){if(reference===favourites[i].Reference){index=i;break}}}return index}function checkFavourites(reference){var unique=true;if(localStorage.favourites){favourites=JSON.parse(localStorage.getItem('favourites'));var total=favourites.length;for(var i=0;i<total;i++){if(reference===favourites[i].Reference){unique=false;break}}}return unique}jQuery(document).ready(function(){jQuery.each(jQuery(".custom-product-card"),function(i,p){if(!checkFavourites(jQuery(p).data("reference"))){jQuery(p).find('div.favourite img').attr('src','/wp-content/themes/webbiz/images/dist/heart_full.svg')}});updateFavourites()});
